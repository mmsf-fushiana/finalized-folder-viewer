# WEB版 ファイナライズフォルダビューワ 仕様書

## 概要

流星のロックマン3（Mega Man Star Force 3）のファイナライゼーション機能で使用できるカードフォルダを閲覧・管理するWebアプリケーション。

## 対象データ

### データソース

| ファイル | 内容 |
|---------|------|
| `card_list.json` | 全カードのマスターデータ |
| `finalization_cards_detailed.json` | ファイナライゼーションカード（フォルダ別・レベル別） |
| `ga_list.json` | ギャラクシーアドバンスカード、それぞれの合成元カード名称も管理 |

### カードデータ構造

```typescript
interface Card {
  id: string;           // カードID (例: "00000001")
  class: string;        // カード分類 (standard, mega, giga等)
  name: string;         // 日本語名
  name_en: string;      // 英語名
  types: string[];      // 属性 (無, 電気, 火, 水, 木, 風, ソード等)
  attack: number;       // 攻撃力
  text: string;         // 効果説明文
  image_url: string;    // カード画像URL
}
```

### ファイナライゼーションデータ構造

```typescript
interface FinalizationData {
  BA: FinalizationSet;  // Black Ace セット
  RJ: FinalizationSet;  // Red Joker セット
}

interface FinalizationSet {
  LV1: Card[];   // レベル1フォルダ (35枚)
  LV2: Card[];   // レベル2フォルダ (35枚)
  // ... LV12まで
  LV12: Card[];
}
```

## 画面構成

縦2ペイン表示します。左の横幅=300px程度にして。

### 左ペイン

MUI Autocompleteによるカード名検索欄、
その下に
Lv.1-12までのボタンをバージョンごとに同じLvを横に2つづつ、縦に12個並べてください。

Lvのボタンはリンクで、開くとそのバージョンのLVのフォルダが右側に表示されます。
リンクパスは、.../BA/1, .../RJ/12のような設計にして。

Autocompleteの選択肢となるカード一覧は、全バージョン全Lvのカードリストをユニークにした一覧になります。そのロジックが必要

### 右ペイン

これは、「1つのフォルダの表示UI」のコンポーネントとして切り出してください。右側ペインに表示します。

表示する内容

- Lv
- 後述するカードリストUI(5*7メトリクス表示)
- フォルダ内カードの属性の枚数の統計棒グラフ
- フォルダ内のカードの組み合わせで作れる、ギャラクシーアドバンスのカード名と、ソースとなる3枚のカード名
<!-- - 無/火/水/電気/木/ブレイク/ソード　これらの属性の -->

※そのフォルダ内で、ギャラクシーアドバンスが作れるカードは何か、作られるGAカードは何か、算出する必要がある。ga_list.jsonを基に算出するロジックが必要。

propsでLvの数値を受け取って、finalization_cards_detailed.jsonを元に諸々算出し、表示する

#### カードリストUI

これも１つのコンポーネントとして切り出して。

./finalization_cards_detailed.json
を参照してください。

フォルダは35枚です。5*7のメトリクスにカード画像と性能を表示します。

画像のサムネイルをwidth=90pxサイズで使い、その下に同じ横幅のエレメントを縦並びに２つ用意し、
直下はカード日本語名称表示、その下は黒背景で攻撃力を白文字で表示、右側に属性アイコンの画像(参考: type_images.json)を表示します

上記を横に5個、縦に7個並べる。

### 1. ホーム画面 (`/`)

BA, RJの順で、Lv毎のカードリストを24セット全て、右ペインに縦に並べて表示します。

### 2. ファイナライズフォルダ詳細画面 (`/meteor-server/:version/:level`)

- 選択したフォルダ（例: BA/LV5）の35枚のカードを表示
- 5列 x 7行のグリッドレイアウト
- カード画像、名前、攻撃力を表示
- カードクリックでカード詳細モーダル表示

### レスポンシブ対応

- PC: 5列グリッド
- タブレット: 4列グリッド
- スマホ: 2列グリッド

## 技術スタック

- **フレームワーク**: React 19
- **UI ライブラリ**: MUI (Material-UI) v6
- **ルーティング**: React Router v7
- **状態管理**: Zustand
- **ビルドツール**: Vite
